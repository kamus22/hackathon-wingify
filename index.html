<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Knowledge Base Workflow</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container" id="main-app">
        
        <div id="login-screen">
            <h1>Knowledge Base Workflow Login</h1>
            <p>Please log in to access the Article Checker or Review Panel.</p>
            <label for="username">Username:</label>
            <input type="text" id="username" placeholder="user or admin">
            <label for="password">Password:</label>
            <input type="password" id="password" placeholder="user or admin">
            <button onclick="loginUser()">Login</button>
            <p id="login-error" class="error"></p>
        </div>

        <div id="checker-view" style="display:none;">
            <h2>Knowledge Base Article Status Checker üì∞</h2>
            <p>Welcome, <span id="current-username"></span>. Your primary task is to identify and initiate the update process for outdated knowledge articles.</p>
            <button class="logout-btn" onclick="logoutUser()">Logout</button>
            
            <label for="article-select">Select an article from the list to check if it's outdated (older than 2 years):</label>
            <select id="article-select"></select>

            <div id="result-container">
                <p id="result-message"></p>
            </div>
            
            <div id="drafting-form" style="display:none;">
                </div>
        </div>

        <div id="reviewer-view" style="display:none;">
            <h2>Peer Review Panel (Admin)</h2>
            <p>Welcome, <span id="current-admin"></span>. Review and manage pending drafts.</p>
            <button class="logout-btn" onclick="logoutUser()">Logout</button>

            <div id="pending-drafts">
                <p class="info">No pending drafts for review.</p>
            </div>
            
            <div id="draft-modal" class="modal" style="display:none;">
                <div class="modal-content">
                    <span class="close-button" onclick="closeModal()">&times;</span>
                    <h3>Review Draft: <span id="draft-title"></span></h3>
                    <p>Submitted by: <span id="draft-submitter"></span></p>
                    <p>Original Article Date: <span id="draft-original-date"></span></p>
                    
                    <h4>Proposed Content:</h4>
                    <textarea id="draft-review-content" rows="10" readonly></textarea>
                    
                    <button class="approve" onclick="reviewAction('approve')">‚úÖ Approve Draft (Publish to Salesforce)</button>
                    <button class="reject" onclick="reviewAction('reject')">‚ùå Reject Draft</button>
                    <p id="review-status-message" class="info"></p>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>